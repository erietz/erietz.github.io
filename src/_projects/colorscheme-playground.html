<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/assets/css/master.css" type="text/css" charset="utf-8">
    <style>
      button {
        margin: 30px;
      }

      body {
        background-color: #404040;
        color: #eeeeee;
      }

      input {
        width: 200px;
      }

      label {
        display: inline-block;
        width: 100px;
        text-align: left;
      }

      pre {
        font-size: 20px;
      }

      .centered {
        text-align: left;
        margin: auto;
        width: 100%;
        padding: 10px;
      }

      #code {
        overflow: scroll;
        font-family: monospace;
        border: 10px solid grey;
        margin-top: 50px;
        margin-bottom: 50px;
      }
    </style>
    <script>
      const highlightGroups = [
        "background",
        "textcolor",
        "keyword",
        "function",
        "paren",
        "variable",
        "number",
        "string"
      ];

      function setTextColor(color) {
        document.getElementById("textcolor").labels[1].innerHTML = color.toUpperCase();
        document.getElementById("code").style.color = color;
      }

      function setBackground(color) {
        document.getElementById("background").labels[1].innerHTML = color.toUpperCase();
        document.getElementById("code").style.backgroundColor = color;
      }

      function setCodeColor(color, className) {
        document.getElementById(className).labels[1].innerHTML = color.toUpperCase();
        Array.from(document.getElementsByClassName(className)).forEach((b) => {
          b.style["color"] = color;
        });
      }

      function copyColorCodes() {
        const values = [];
        for (const group of highlightGroups) {
          values.push(document.getElementById(group).value);
        }
        navigator.clipboard.writeText(values);
        alert(`Copied to clipboard ${values}`);
      }
    </script>
  </head>
  <body>
    <script src="/assets/js/navigation.js" charset="utf-8"></script>
    <center>
      <h1>Colorsheme Playground</h1>

      <label for="textcolor">Text</label>
      <input type="color" id="textcolor" name="textcolor" value="#d5d5d5" oninput="setTextColor(event.target.value);">
      <label for="textcolor"></label>

      <label for="background">Background</label>
      <input type="color" id="background" name="background" value="#2A2A2A" oninput="setBackground(event.target.value);">
      <label for="background"></label>
      <br/>

      <label for="keyword">Keyword</label>
      <input type="color" id="keyword" name="keyword" value="#fb8072" oninput="setCodeColor(event.target.value, 'keyword');">
      <label for="keyword"></label>

      <label for="function">Function</label>
      <input type="color" id="function" name="function" value="#b3de69" oninput="setCodeColor(event.target.value, 'function');">
      <label for="function"></label>
      <br/>

      <label for="paren">Paren</label>
      <input type="color" id="paren" name="paren" value="#ffffb3" oninput="setCodeColor(event.target.value, 'paren');">
      <label for="paren"></label>

      <label for="variable">Variable</label>
      <input type="color" id="variable" name="variable" value="#80b1d3" oninput="setCodeColor(event.target.value, 'variable');">
      <label for="variable"></label>
      <br/>

      <label for="number">Number</label>
      <input type="color" id="number" name="number" value="#bebada" oninput="setCodeColor(event.target.value, 'number');">
      <label for="number"></label>

      <label for="string">String</label>
      <input type="color" id="string" name="string" value="#8dd3c7" oninput="setCodeColor(event.target.value, 'string');">
      <label for="string"></label>
      <br/>

    </center>

    <div id="code" class="centered">
      <pre>
        <span class="keyword">function</span> <span class="function">fib</span><span class="paren">(</span><span class="variable">n</span><span class="paren">) {</span>
          <span class="keyword">let</span> <span class="paren">[</span><span class="variable">first</span>, <span class="variable">second</span><span class="paren">]</span> = <span class="paren">[</span><span class="number">0</span>, <span class="number">1</span><span class="paren">]</span>;
          <span class="keyword">return function</span><span class="paren">() {</span>
            <span class="variable">console</span>.<span class="function">log</span><span class="paren">(</span><span class="variable">first</span><span class="paren">)</span>;
            <span class="paren">[</span><span class="variable">first</span>, <span class="variable">second</span><span class="paren">]</span> = <span class="paren">[</span><span class="variable">second</span>, <span class="variable">first</span> + <span class="variable">second</span><span class="paren">];</span>
          <span class="paren">}</span>
        <span class="paren">}</span>

        <span class="variable">console</span>.<span class="function">log</span><span class="paren">(</span><span class="string">"The Fibonacci Sequence"</span><span class="paren">)</span>;
        <span class="keyword">const</span> <span class="variable">f</span> = <span class="function">fib</span><span class="paren">()</span>;
        <span class="keyword">for</span> <span class="paren">(</span><span class="keyword">let</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> < <span class="number">10</span>; <span class="variable">i</span>++<span class="paren">) {</span>
          <span class="function">f</span><span class="paren">()</span>;
        <span class="paren">}</span>
      </pre>
    </div>

    <center>
      <button onclick="copyColorCodes()">Copy color codes to clipboard</button>
    </center>

    <hr>
    <script src="https://utteranc.es/client.js"
            repo="erietz/erietz.github.io"
            issue-term="pathname"
            theme="photon-dark"
            crossorigin="anonymous"
            async>
    </script>
    <hr>

    <script>
    (() => {
      setBackground(document.getElementById("background").value);
      setTextColor(document.getElementById("textcolor").value);
      setCodeColor(document.getElementById("keyword").value, "keyword");
      setCodeColor(document.getElementById("function").value, "function");
      setCodeColor(document.getElementById("paren").value, "paren");
      setCodeColor(document.getElementById("variable").value, "variable");
      setCodeColor(document.getElementById("number").value, "number");
      setCodeColor(document.getElementById("string").value, "string");
    })()
    </script>
  </body>

</html>
